<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/component.css') }}">
    <style>
        .banner-qr-overlay {
            display: flex;
            /* 保持居中布局 */
        }

        .top-notice {
            cursor: pointer;
        }
    </style>
    {% block head %}{% endblock %}
</head>

<body>
    <div id="app">

        <div class="top-notice" v-if="showNotice" @click="showBanner = true">
            <span>资源失效/没找到？扫码进群帮你解决 ></span>
            <div class="close-btn" @click.stop="hideNotice">
                <i class="ri-close-line"></i>
            </div>
        </div>

        <header class="main-header">
            <div class="header-inner">
                <div class="logo-area">
                    <i class="ri-cloud-fill logo-icon"></i>
                    <span>基德资源搜索站</span>
                </div>
                <nav class="desktop-nav">
                    <a href="/" class="{{ 'active' if request.path == '/' else '' }}">首页</a>
                    <a href="/daily-update" class="{{ 'active' if request.path == '/daily-update' else '' }}">每日更新</a>
                    <a href="#">短剧专区</a>
                    <a href="#">热门榜单</a>
                    <a href="#" @click="help = true">求片通道</a>
                </nav>
                <div class="mobile-menu-btn" @click="menu = true">
                    <i class="ri-menu-line"></i>
                </div>
            </div>
        </header>

        <main class="container">
            {% include 'dialog/dialog-base.html' %}

            {% block content %}{% endblock %}
        </main>

        <div class="fab-btn" @click="showBanner = true">
            <i class="ri-qr-code-line" style="font-size: 24px;"></i>
            <p>扫码进群</p>
        </div>

        <div class="mobile-tab-bar">
            <div class="tab-item active"><i class="ri-home-5-line"></i><span>首页</span></div>
            <div class="tab-item"><i class="ri-calendar-event-line"></i><span>每日更新</span></div>
            <div class="tab-item"><i class="ri-movie-line"></i><span>短剧</span></div>
            <div class="tab-item"><i class="ri-search-line"></i><span>全网搜</span></div>
        </div>

    </div>

    {% block scripts %}{% endblock %}

    <script src="{{ url_for('static', filename='js/vue.js') }}"></script>
    <script>
        var app = new Vue({
            el: "#app",
            delimiters: ['${', '}'],
            data() {
                return {
                    showBanner: false,
                    showNotice: true,
                    menu: false,
                    help: false,
                    dialog_overlay: false,
                };
            },
            methods: {
                hideNotice() {
                    this.showNotice = false;
                },
                ObtainResources_quark() {
                    alert("获取夸克资源链接的功能正在开发中！");
                },
                ObtainResources_baidu() {

                }
            },
            mounted() {
                console.log("Vue is running...");
            },
        });
    </script>
</body>

</html>